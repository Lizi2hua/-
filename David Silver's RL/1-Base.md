# 基础

## 1.基本概念

在强化学习中，我们考虑在没有明确的指导的情况下，**学习如何通过经验（experience）去进行==动作（action）==**。==个体（agent）==需要通过与环境（envrioment）进行交互，通过==观察（obesrvation）==学习如何最大化在某些时间步累积==奖励（reward）==。

![fig1_1](imgs\fig1_1.png)

> 在强化学习中，个体（Agent）的行为可以与环境进行交互，从而得到立即的、局部的反馈信号，这些信号通常称为奖励。但是，个体并不能从这些奖励中得到“最好的动作”，它必须通过**选择一些动作来最大化长期累积的奖励**。因此，强化学习的奖励对于个体的反馈，不如有监督学习的标签反馈强（能够告诉模型什么才是最好的结果）。我们可以认为**强化学习介于有监督学习和无监督学习之间**。

**标准化描述** 	对于离散问题，一个个体进行一个动作的序列记作$\{a_t\}$，观测到的观测值记做$\{o_t\}$，通过动作获得的奖励序列记为$\{r_t\}$。

**序列决策的制定**	我们定义在时刻$t$的历史（history）为$h(t)=(a_1,o_1,r_1,\dots,a_t,o_t,r_t)$,**个体选择的下一个动作可以被视为关于历史的函数，即，$a_{t+1}=f(h_t)$**。

> 序列决策制定的问题可以被认为是如何恰当地定义并计算$f(·)$

$$
a_{t+1}=f(h(t))\\h(t)=(a_1,o_1,r_1,\dots,a_t,o_t,r_t)
$$

**马尔可夫性质（Markov Property）**[^1]	当一个随机过程在给定现在状态及其过去所有状态下，其*未来状态的条件概率分布仅依赖与当前状态*。定义$S$为可能状态的集合，$s_t$为观测到的状态序列（$s_t\in S$），$a_t$为可能的动作集合。$P(·)$为历史状态和历史动作的概率函数，表示在$S$上的**状态转移（trasition dynamics）**概率分布。
$$
P(s_{t+1}|s_t,a_t,\dots,s_1,a_1)=P(s_{t+1}|s_t,a_t)
$$
**[马尔可夫过程（MP）](马尔可夫过程.md)**	具有马尔可夫性质的过程

**马尔可夫奖励过程（MRP）**	每个时间步都有奖励的MP，随时间衰减的奖励的累积称为价值

**马尔可夫决策过程（MDP）**	每个状态下都有选择和动作的MRP

**奖励函数（reward function）**	奖励函数由状态$s$，动作$a$,下一时刻状态$s’$共同决定。$R(s,a,a')=\mathbb{E}[r_t|s_t=s,a_t=a,s_{t+1}=s']$。如图[^2],从$s_0$转移到$s_1$的动作$a_1$得到的奖励为$+1$，相反，$s_1$转移到$s_0$的动作$a_1'$得到的奖励为$-1$。

![image-20201016145829674](imgs\image-20201016145829674.png)

**状态价值函数（state value function）[^3]**	给定策略函数$\pi(·)$，$a=\pi(s)$，策略是**个体从一个状态到一个动作的映射**。使用价值函数来评价策略函数$\pi(·)$。系统的状态价值函数是**从当前状态开始到最终时系统在该固定策略下所获得的累加奖励的期望**。

$\gamma$是衰减因子，$\gamma \in[0,1]$，用来**对立即奖励和延迟奖励加权**。
$$
V^\pi(s)=\mathbb{E}_\pi[G_t|s_t=s]
$$
**状态动作价值函数（State-Action Value Function）**	也称Q函数，给定一个状态$s_t$，采取动作$a_t$后，按照某一个固定策略$\pi_s$与环境继续进行交互，得到的累加奖励的期望值。
$$
Q^\pi(s,a)=\mathbb{E}_\pi[G_t|s_t=s,a_t=a]
$$

**贝尔曼方程（Bellman function）**	是对状态价值函数的递归分解。
$$
\begin{align}
V(S)=\mathbb{E}[R_t|s_t=s]\\
=\mathbb{E}[r_{t+1}]
\end{align}
$$





[^1]: https://baike.baidu.com/item/%E9%A9%AC%E5%B0%94%E5%8F%AF%E5%A4%AB%E6%80%A7%E8%B4%A8/23149887?fr=aladdin
[^2]: https://zhuanlan.zhihu.com/p/170523750
[^3]: https://zhuanlan.zhihu.com/p/86525700

